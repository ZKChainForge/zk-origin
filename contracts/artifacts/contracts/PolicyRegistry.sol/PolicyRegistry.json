{
  "_format": "hh-sol-artifact-1",
  "contractName": "PolicyRegistry",
  "sourceName": "contracts/PolicyRegistry.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "NotAdmin",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PolicyNotActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PolicyNotFound",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "name": "PolicyActivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "name": "PolicyCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "name": "PolicyDeactivated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "name": "activatePolicy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "name": "createPolicy",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentPolicyId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getCurrentPolicyRoot",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "name": "getPolicy",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "merkleRoot",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "createdAt",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "active",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "description",
              "type": "string"
            }
          ],
          "internalType": "struct PolicyRegistry.Policy",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "policies",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "description",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "policyCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newAdmin",
          "type": "address"
        }
      ],
      "name": "transferAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50600080546001600160a01b0319163317905561096a806100326000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c806383bcbb771161006657806383bcbb7714610100578063871ae93a14610108578063d3e894831461011b578063de54d4291461013e578063f851a4401461014757600080fd5b80632b07fce3146100985780635a6b60ae146100c157806375829def146100e25780637c4cdc0b146100f7575b600080fd5b6100ab6100a63660046105f9565b610172565b6040516100b89190610658565b60405180910390f35b6100d46100cf36600461069b565b61028f565b6040519081526020016100b8565b6100f56100f0366004610717565b6103ba565b005b6100d460015481565b6100d4610407565b6100f56101163660046105f9565b610452565b61012e6101293660046105f9565b610542565b6040516100b89493929190610747565b6100d460035481565b60005461015a906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b604080516080810182526000808252602082018190529181019190915260608082015260035482106101b75760405163720caa4f60e01b815260040160405180910390fd5b6000828152600260208181526040928390208351608081018552815481526001820154928101929092529182015460ff1615159281019290925260038101805460608401919061020690610778565b80601f016020809104026020016040519081016040528092919081815260200182805461023290610778565b801561027f5780601f106102545761010080835404028352916020019161027f565b820191906000526020600020905b81548152906001019060200180831161026257829003601f168201915b5050505050815250509050919050565b600080546001600160a01b031633146102bb57604051637bfa4b9f60e01b815260040160405180910390fd5b600380549060006102cb836107b2565b919050559050604051806080016040528085815260200142815260200160001515815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920182905250939094525050838152600260208181526040928390208551815590850151600182015591840151908201805460ff191691151591909117905560608301519091506003820190610373908261083e565b50905050807f09b0473767cd74abbe5535b4e82cadffb9fc9cd696419e6064d0fbcacefbfadf8585856040516103ab939291906108fe565b60405180910390a29392505050565b6000546001600160a01b031633146103e557604051637bfa4b9f60e01b815260040160405180910390fd5b600080546001600160a01b0319166001600160a01b0392909216919091179055565b60015460009081526002602081905260408220015460ff1661043c57604051638966b51f60e01b815260040160405180910390fd5b5060015460009081526002602052604090205490565b6000546001600160a01b0316331461047d57604051637bfa4b9f60e01b815260040160405180910390fd5b600354811061049f5760405163720caa4f60e01b815260040160405180910390fd5b60035460015410156104f457600180546000908152600260208190526040808320909101805460ff19169055915491517fa040c05c2aea9ad7da426cefbf383fc472d4759806d4aa7d1257f00f0faadd019190a25b6000818152600260208190526040808320909101805460ff191660019081179091558390555182917fad3ecebb8c0ffc9345044219d173dbaa4b6e27caff4829a392c252e6e12d638f91a250565b6002602081905260009182526040909120805460018201549282015460038301805492949360ff9092169261057690610778565b80601f01602080910402602001604051908101604052809291908181526020018280546105a290610778565b80156105ef5780601f106105c4576101008083540402835291602001916105ef565b820191906000526020600020905b8154815290600101906020018083116105d257829003601f168201915b5050505050905084565b60006020828403121561060b57600080fd5b5035919050565b6000815180845260005b818110156106385760208185018101518683018201520161061c565b506000602082860101526020601f19601f83011685010191505092915050565b6020815281516020820152602082015160408201526040820151151560608201526000606083015160808084015261069360a0840182610612565b949350505050565b6000806000604084860312156106b057600080fd5b83359250602084013567ffffffffffffffff808211156106cf57600080fd5b818601915086601f8301126106e357600080fd5b8135818111156106f257600080fd5b87602082850101111561070457600080fd5b6020830194508093505050509250925092565b60006020828403121561072957600080fd5b81356001600160a01b038116811461074057600080fd5b9392505050565b848152836020820152821515604082015260806060820152600061076e6080830184610612565b9695505050505050565b600181811c9082168061078c57607f821691505b6020821081036107ac57634e487b7160e01b600052602260045260246000fd5b50919050565b6000600182016107d257634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fd5b601f82111561083957600081815260208120601f850160051c810160208610156108165750805b601f850160051c820191505b8181101561083557828155600101610822565b5050505b505050565b815167ffffffffffffffff811115610858576108586107d9565b61086c816108668454610778565b846107ef565b602080601f8311600181146108a157600084156108895750858301515b600019600386901b1c1916600185901b178555610835565b600085815260208120601f198616915b828110156108d0578886015182559484019460019091019084016108b1565b50858210156108ee5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b83815260406020820152816040820152818360608301376000818301606090810191909152601f909201601f191601019291505056fea264697066735822122023ec4fa566cfc30078e536e71bda4a510616cb463c14811ec710218b234e2e9564736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c806383bcbb771161006657806383bcbb7714610100578063871ae93a14610108578063d3e894831461011b578063de54d4291461013e578063f851a4401461014757600080fd5b80632b07fce3146100985780635a6b60ae146100c157806375829def146100e25780637c4cdc0b146100f7575b600080fd5b6100ab6100a63660046105f9565b610172565b6040516100b89190610658565b60405180910390f35b6100d46100cf36600461069b565b61028f565b6040519081526020016100b8565b6100f56100f0366004610717565b6103ba565b005b6100d460015481565b6100d4610407565b6100f56101163660046105f9565b610452565b61012e6101293660046105f9565b610542565b6040516100b89493929190610747565b6100d460035481565b60005461015a906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b604080516080810182526000808252602082018190529181019190915260608082015260035482106101b75760405163720caa4f60e01b815260040160405180910390fd5b6000828152600260208181526040928390208351608081018552815481526001820154928101929092529182015460ff1615159281019290925260038101805460608401919061020690610778565b80601f016020809104026020016040519081016040528092919081815260200182805461023290610778565b801561027f5780601f106102545761010080835404028352916020019161027f565b820191906000526020600020905b81548152906001019060200180831161026257829003601f168201915b5050505050815250509050919050565b600080546001600160a01b031633146102bb57604051637bfa4b9f60e01b815260040160405180910390fd5b600380549060006102cb836107b2565b919050559050604051806080016040528085815260200142815260200160001515815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920182905250939094525050838152600260208181526040928390208551815590850151600182015591840151908201805460ff191691151591909117905560608301519091506003820190610373908261083e565b50905050807f09b0473767cd74abbe5535b4e82cadffb9fc9cd696419e6064d0fbcacefbfadf8585856040516103ab939291906108fe565b60405180910390a29392505050565b6000546001600160a01b031633146103e557604051637bfa4b9f60e01b815260040160405180910390fd5b600080546001600160a01b0319166001600160a01b0392909216919091179055565b60015460009081526002602081905260408220015460ff1661043c57604051638966b51f60e01b815260040160405180910390fd5b5060015460009081526002602052604090205490565b6000546001600160a01b0316331461047d57604051637bfa4b9f60e01b815260040160405180910390fd5b600354811061049f5760405163720caa4f60e01b815260040160405180910390fd5b60035460015410156104f457600180546000908152600260208190526040808320909101805460ff19169055915491517fa040c05c2aea9ad7da426cefbf383fc472d4759806d4aa7d1257f00f0faadd019190a25b6000818152600260208190526040808320909101805460ff191660019081179091558390555182917fad3ecebb8c0ffc9345044219d173dbaa4b6e27caff4829a392c252e6e12d638f91a250565b6002602081905260009182526040909120805460018201549282015460038301805492949360ff9092169261057690610778565b80601f01602080910402602001604051908101604052809291908181526020018280546105a290610778565b80156105ef5780601f106105c4576101008083540402835291602001916105ef565b820191906000526020600020905b8154815290600101906020018083116105d257829003601f168201915b5050505050905084565b60006020828403121561060b57600080fd5b5035919050565b6000815180845260005b818110156106385760208185018101518683018201520161061c565b506000602082860101526020601f19601f83011685010191505092915050565b6020815281516020820152602082015160408201526040820151151560608201526000606083015160808084015261069360a0840182610612565b949350505050565b6000806000604084860312156106b057600080fd5b83359250602084013567ffffffffffffffff808211156106cf57600080fd5b818601915086601f8301126106e357600080fd5b8135818111156106f257600080fd5b87602082850101111561070457600080fd5b6020830194508093505050509250925092565b60006020828403121561072957600080fd5b81356001600160a01b038116811461074057600080fd5b9392505050565b848152836020820152821515604082015260806060820152600061076e6080830184610612565b9695505050505050565b600181811c9082168061078c57607f821691505b6020821081036107ac57634e487b7160e01b600052602260045260246000fd5b50919050565b6000600182016107d257634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fd5b601f82111561083957600081815260208120601f850160051c810160208610156108165750805b601f850160051c820191505b8181101561083557828155600101610822565b5050505b505050565b815167ffffffffffffffff811115610858576108586107d9565b61086c816108668454610778565b846107ef565b602080601f8311600181146108a157600084156108895750858301515b600019600386901b1c1916600185901b178555610835565b600085815260208120601f198616915b828110156108d0578886015182559484019460019091019084016108b1565b50858210156108ee5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b83815260406020820152816040820152818360608301376000818301606090810191909152601f909201601f191601019291505056fea264697066735822122023ec4fa566cfc30078e536e71bda4a510616cb463c14811ec710218b234e2e9564736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
