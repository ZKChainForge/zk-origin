{
  "_format": "hh-sol-artifact-1",
  "contractName": "LineageVerifier",
  "sourceName": "contracts/LineageVerifier.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_groth16Verifier",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "GenesisAlreadySet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "GenesisNotSet",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidProof",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LineageMismatch",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotAdmin",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PreviousStateNotVerified",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroStateHash",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "stateHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "lineageCommitment",
          "type": "bytes32"
        }
      ],
      "name": "GenesisSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "prevStateHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "newStateHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "newLineageCommitment",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "depth",
          "type": "uint256"
        }
      ],
      "name": "LineageVerified",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "genesisInitialized",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "genesisLineageCommitment",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "genesisStateHash",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "stateHash",
          "type": "bytes32"
        }
      ],
      "name": "getDepth",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "stateHash",
          "type": "bytes32"
        }
      ],
      "name": "getLineage",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "stateHash",
          "type": "bytes32"
        }
      ],
      "name": "getStateInfo",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "lineageCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "depth",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "verified",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "groth16Verifier",
      "outputs": [
        {
          "internalType": "contract IGroth16Verifier",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "stateHash",
          "type": "bytes32"
        }
      ],
      "name": "hasVerifiedLineage",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_genesisStateHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "_genesisLineageCommitment",
          "type": "bytes32"
        }
      ],
      "name": "setGenesis",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "stateDepth",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "stateLineage",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalTransitions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newAdmin",
          "type": "address"
        }
      ],
      "name": "transferAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "verifiedStates",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[2]",
          "name": "pA",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "pB",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "pC",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "publicSignals",
          "type": "uint256[2]"
        }
      ],
      "name": "verifyLineage",
      "outputs": [
        {
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[2]",
          "name": "pA",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "pB",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "pC",
          "type": "uint256[2]"
        },
        {
          "internalType": "bytes32",
          "name": "prevStateHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "newStateHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "prevLineageCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "uint256[2]",
          "name": "publicSignals",
          "type": "uint256[2]"
        }
      ],
      "name": "verifyLineageWithStates",
      "outputs": [
        {
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b50604051610a9d380380610a9d83398101604081905261002f91610052565b6001600160a01b0316608052600080546001600160a01b03191633179055610082565b60006020828403121561006457600080fd5b81516001600160a01b038116811461007b57600080fd5b9392505050565b6080516109f26100ab600039600081816101480152818161040e015261058a01526109f26000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c806375829def116100a2578063b214b72d11610071578063b214b72d14610286578063c5148c111461028f578063d185903f146102a2578063d541bb10146102f9578063f851a4401461030c57600080fd5b806375829def146102275780637b63bb341461023c5780637d66a0bc1461024f5780637ee7d4521461027257600080fd5b80633d8e6498116100de5780633d8e6498146101d557806349f2d22c146101de5780634d2a1c05146101fe578063649c8af21461021e57600080fd5b806303e55b3d1461011057806319c813be14610143578063200a99a11461018257806322ede8ee146101b5575b600080fd5b61013061011e3660046107c1565b60046020526000908152604090205481565b6040519081526020015b60405180910390f35b61016a7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161013a565b6101a56101903660046107c1565b60009081526005602052604090205460ff1690565b604051901515815260200161013a565b6101306101c33660046107c1565b60036020526000908152604090205481565b61013060015481565b6101306101ec3660046107c1565b60009081526003602052604090205490565b61013061020c3660046107c1565b60009081526004602052604090205490565b61013060025481565b61023a6102353660046107da565b61031f565b005b6101a561024a366004610832565b61036c565b6101a561025d3660046107c1565b60056020526000908152604090205460ff1681565b6000546101a590600160a01b900460ff1681565b61013060065481565b6101a561029d3660046108ac565b610545565b6102dc6102b03660046107c1565b6000818152600360209081526040808320546004835281842054600590935292205460ff169193909250565b60408051938452602084019290925215159082015260600161013a565b61023a610307366004610906565b6106c2565b60005461016a906001600160a01b031681565b6000546001600160a01b0316331461034a57604051637bfa4b9f60e01b815260040160405180910390fd5b600080546001600160a01b0319166001600160a01b0392909216919091179055565b60008054600160a01b900460ff166103975760405163cf704f1d60e01b815260040160405180910390fd5b60008581526005602052604090205460ff166103c6576040516303e2a68160e41b815260040160405180910390fd5b60008581526003602052604090205483146103f4576040516311c6e13160e11b815260040160405180910390fd5b604051637ae4eb4f60e11b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f5c9d69e90610449908c908c908c908990600401610928565b602060405180830381865afa158015610466573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061048a9190610973565b9050806104aa576040516309bde33960e01b815260040160405180910390fd5b60008581526003602090815260408083208635908190556004835281842083880135908190556005909352908320805460ff191660011790556006805491936104f283610995565b9091555050604080518381526020810183905288918a917fa003d566c12e902c3e6a6bfa6c597bbfbfbd9c26b0c4548aed17e8a21825e5a7910160405180910390a35060019a9950505050505050505050565b60008054600160a01b900460ff166105705760405163cf704f1d60e01b815260040160405180910390fd5b604051637ae4eb4f60e11b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f5c9d69e906105c5908990899089908990600401610928565b602060405180830381865afa1580156105e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106069190610973565b905080610626576040516309bde33960e01b815260040160405180910390fd5b8235600081815260036020908152604080832084905560048252808320828801359081905560059092528220805460ff191660011790556006805491928492919061067083610995565b9091555050604080518481526020810184905282916000917fa003d566c12e902c3e6a6bfa6c597bbfbfbd9c26b0c4548aed17e8a21825e5a7910160405180910390a350600198975050505050505050565b6000546001600160a01b031633146106ed57604051637bfa4b9f60e01b815260040160405180910390fd5b600054600160a01b900460ff1615610718576040516357cea9bd60e01b815260040160405180910390fd5b81610736576040516303e21b5f60e01b815260040160405180910390fd5b600182815560028290556000838152600360209081526040808320859055600482528083208390556005909152808220805460ff1916909317909255805460ff60a01b1916600160a01b1790555182907fd8cba4dee452ad537041706a266824e2533c3bb52e5761d53aa78fe5777566f4906107b59084815260200190565b60405180910390a25050565b6000602082840312156107d357600080fd5b5035919050565b6000602082840312156107ec57600080fd5b81356001600160a01b038116811461080357600080fd5b9392505050565b806040810183101561081b57600080fd5b92915050565b806080810183101561081b57600080fd5b60008060008060008060006101a0888a03121561084e57600080fd5b610858898961080a565b96506108678960408a01610821565b95506108768960c08a0161080a565b945061010088013593506101208801359250610140880135915061089e896101608a0161080a565b905092959891949750929550565b60008060008061014085870312156108c357600080fd5b6108cd868661080a565b93506108dc8660408701610821565b92506108eb8660c0870161080a565b91506108fb86610100870161080a565b905092959194509250565b6000806040838503121561091957600080fd5b50508035926020909101359150565b61014081016040808784378083018660005b60028110156109575783828437918301919083019060010161093a565b505050808560c085013780846101008501375095945050505050565b60006020828403121561098557600080fd5b8151801515811461080357600080fd5b6000600182016109b557634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220d94c2667a5c1f3a3c796a16710ff8a28d3ab5a2065723b45e2f9aa5d9973bd6964736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061010b5760003560e01c806375829def116100a2578063b214b72d11610071578063b214b72d14610286578063c5148c111461028f578063d185903f146102a2578063d541bb10146102f9578063f851a4401461030c57600080fd5b806375829def146102275780637b63bb341461023c5780637d66a0bc1461024f5780637ee7d4521461027257600080fd5b80633d8e6498116100de5780633d8e6498146101d557806349f2d22c146101de5780634d2a1c05146101fe578063649c8af21461021e57600080fd5b806303e55b3d1461011057806319c813be14610143578063200a99a11461018257806322ede8ee146101b5575b600080fd5b61013061011e3660046107c1565b60046020526000908152604090205481565b6040519081526020015b60405180910390f35b61016a7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161013a565b6101a56101903660046107c1565b60009081526005602052604090205460ff1690565b604051901515815260200161013a565b6101306101c33660046107c1565b60036020526000908152604090205481565b61013060015481565b6101306101ec3660046107c1565b60009081526003602052604090205490565b61013061020c3660046107c1565b60009081526004602052604090205490565b61013060025481565b61023a6102353660046107da565b61031f565b005b6101a561024a366004610832565b61036c565b6101a561025d3660046107c1565b60056020526000908152604090205460ff1681565b6000546101a590600160a01b900460ff1681565b61013060065481565b6101a561029d3660046108ac565b610545565b6102dc6102b03660046107c1565b6000818152600360209081526040808320546004835281842054600590935292205460ff169193909250565b60408051938452602084019290925215159082015260600161013a565b61023a610307366004610906565b6106c2565b60005461016a906001600160a01b031681565b6000546001600160a01b0316331461034a57604051637bfa4b9f60e01b815260040160405180910390fd5b600080546001600160a01b0319166001600160a01b0392909216919091179055565b60008054600160a01b900460ff166103975760405163cf704f1d60e01b815260040160405180910390fd5b60008581526005602052604090205460ff166103c6576040516303e2a68160e41b815260040160405180910390fd5b60008581526003602052604090205483146103f4576040516311c6e13160e11b815260040160405180910390fd5b604051637ae4eb4f60e11b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f5c9d69e90610449908c908c908c908990600401610928565b602060405180830381865afa158015610466573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061048a9190610973565b9050806104aa576040516309bde33960e01b815260040160405180910390fd5b60008581526003602090815260408083208635908190556004835281842083880135908190556005909352908320805460ff191660011790556006805491936104f283610995565b9091555050604080518381526020810183905288918a917fa003d566c12e902c3e6a6bfa6c597bbfbfbd9c26b0c4548aed17e8a21825e5a7910160405180910390a35060019a9950505050505050505050565b60008054600160a01b900460ff166105705760405163cf704f1d60e01b815260040160405180910390fd5b604051637ae4eb4f60e11b81526000906001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063f5c9d69e906105c5908990899089908990600401610928565b602060405180830381865afa1580156105e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106069190610973565b905080610626576040516309bde33960e01b815260040160405180910390fd5b8235600081815260036020908152604080832084905560048252808320828801359081905560059092528220805460ff191660011790556006805491928492919061067083610995565b9091555050604080518481526020810184905282916000917fa003d566c12e902c3e6a6bfa6c597bbfbfbd9c26b0c4548aed17e8a21825e5a7910160405180910390a350600198975050505050505050565b6000546001600160a01b031633146106ed57604051637bfa4b9f60e01b815260040160405180910390fd5b600054600160a01b900460ff1615610718576040516357cea9bd60e01b815260040160405180910390fd5b81610736576040516303e21b5f60e01b815260040160405180910390fd5b600182815560028290556000838152600360209081526040808320859055600482528083208390556005909152808220805460ff1916909317909255805460ff60a01b1916600160a01b1790555182907fd8cba4dee452ad537041706a266824e2533c3bb52e5761d53aa78fe5777566f4906107b59084815260200190565b60405180910390a25050565b6000602082840312156107d357600080fd5b5035919050565b6000602082840312156107ec57600080fd5b81356001600160a01b038116811461080357600080fd5b9392505050565b806040810183101561081b57600080fd5b92915050565b806080810183101561081b57600080fd5b60008060008060008060006101a0888a03121561084e57600080fd5b610858898961080a565b96506108678960408a01610821565b95506108768960c08a0161080a565b945061010088013593506101208801359250610140880135915061089e896101608a0161080a565b905092959891949750929550565b60008060008061014085870312156108c357600080fd5b6108cd868661080a565b93506108dc8660408701610821565b92506108eb8660c0870161080a565b91506108fb86610100870161080a565b905092959194509250565b6000806040838503121561091957600080fd5b50508035926020909101359150565b61014081016040808784378083018660005b60028110156109575783828437918301919083019060010161093a565b505050808560c085013780846101008501375095945050505050565b60006020828403121561098557600080fd5b8151801515811461080357600080fd5b6000600182016109b557634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220d94c2667a5c1f3a3c796a16710ff8a28d3ab5a2065723b45e2f9aa5d9973bd6964736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
